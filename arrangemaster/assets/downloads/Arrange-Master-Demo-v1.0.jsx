#target illustrator
#targetengine "main"

// Arrange Master Demo - v1.1 (Based on Arrange Master v1.0.1 Core)
// Author: Andrew Rybalko (www.andrewr.online)
// Date: October 10, 2025
//
// Description:
// This is a demonstration script showcasing the core arrangement capabilities of the
// "Arrange Master" Adobe Illustrator extension. It operates as a standalone .jsx file
// without the session-based safety features of the full CEP plugin.
//
// Features two layout methods from the full version:
// 1. Grid Layout: Arranges objects in a structured grid with an option to ignore size limits.
// 2. Knolling Layout: Utilizes a sophisticated "Maximal Empty Rectangles" (MER)
//    packer with a Best Short-Side Fit (BSSF) heuristic for highly efficient,
//    organized compositions.
//
// Changes made directly affect the selected objects. Use the 'Cancel' button
// to revert all objects to their state before the script was run.

(function(){var _0x51c589='Arrange\x20Master\x20Demo\x20v1.0',_0x371ca0=-0x7db+-0x1804+0x1fee,_0x5566e1=0x1aa+0x1299+-0x1*0x142f,_0x3c5dd4=0xadd*0x1+-0x219f+-0x7*-0x341,_0x50e2d1=-0x1*-0x14d9+0x227f*-0x1+0xdab,_0x1ac416=![],_0x4b6e71='leftToRight',_0x4f9ce3=null,_0x1afd87=[],_0x4dc004=[],_0x393441=null,_0x55f756=_0x371ca0,_0x9f08e0={'name':'pt','toPoints':0x1,'fromPoints':0x1},_0x47bf9d=[],_0x3bf8d4='knolling';function _0x5a8f26(){if(!_0x4f9ce3)return{'name':'pt','toPoints':0x1,'fromPoints':0x1};var _0x84727a={'name':'pt','toPoints':0x1,'fromPoints':0x1};try{switch(_0x4f9ce3['rulerUnits']){case RulerUnits['Points']:_0x84727a['name']='pt',_0x84727a['toPoints']=0x143e+0x49*-0x88+-0x128b*-0x1;break;case RulerUnits['Picas']:_0x84727a['name']='pc',_0x84727a['toPoints']=0x1ce1+-0xb4*0x34+0x7bb;break;case RulerUnits['Inches']:_0x84727a['name']='in',_0x84727a['toPoints']=-0x2*0xf32+-0x5d2*0x1+0x247e;break;case RulerUnits['Millimeters']:_0x84727a['name']='mm',_0x84727a['toPoints']=-0x1f63*-0x1+0xf9*-0x19+-0x710+0.8346456689999999;break;case RulerUnits['Centimeters']:_0x84727a['name']='cm',_0x84727a['toPoints']=-0x13*-0x117+-0x9*-0x3c1+-0x3662+0.3464566900000001;break;case RulerUnits['Pixels']:_0x84727a['name']='px',_0x84727a['toPoints']=-0xa0*0x26+-0x1152*0x1+-0x2bd*-0xf;break;default:_0x84727a['name']='pt',_0x84727a['toPoints']=-0x1*-0xb11+0x1*-0xe7d+0x36d;break;}_0x84727a['fromPoints']=(-0x223f+-0xa3*-0x1e+-0x2*-0x793)/_0x84727a['toPoints'];}catch(_0x5f1cad){}return _0x84727a;}function _0x3d44a9(_0x48f77c,_0x17a8f7){return parseFloat(_0x48f77c)*_0x17a8f7['toPoints'];}function _0x49b5e4(_0x53e9d2,_0x50ac2b){return parseFloat(_0x53e9d2)*_0x50ac2b['fromPoints'];}function _0xa6e92(_0x2c2e08,_0x29a201){var _0x7e05d6=null;if(!_0x2c2e08)return null;try{if(typeof _0x2c2e08['isValid']!=='undefined'&&!_0x2c2e08['isValid'])return null;}catch(_0x1ed051){return null;}try{_0x7e05d6=_0x29a201==='visibleBounds'?_0x2c2e08['visibleBounds']:_0x2c2e08['geometricBounds'];}catch(_0x5a5a74){return null;}if(!_0x7e05d6||_0x7e05d6['length']!==0x1*0x14b5+0x13*-0x162+0x595)return null;var _0x310a1d=_0x7e05d6[0x132f*-0x1+-0x9a*0x32+0x1*0x3143],_0x525bf9=_0x7e05d6[0xd*0x246+-0x1ca3*0x1+-0xea],_0x5e1e95=_0x7e05d6[0x1a47+0xfc9+0x602*-0x7],_0x145b14=_0x7e05d6[0x1d*0xd6+0x2*-0xbb7+0x1*-0xcd];if(isNaN(_0x310a1d)||isNaN(_0x525bf9)||isNaN(_0x5e1e95)||isNaN(_0x145b14))return null;var _0x51c606=Math['max'](_0x525bf9,_0x145b14),_0x12e74d=Math['min'](_0x525bf9,_0x145b14),_0x162461=Math['abs'](_0x5e1e95-_0x310a1d),_0x94a5e4=Math['abs'](_0x51c606-_0x12e74d);return{'left':_0x310a1d,'top':_0x51c606,'width':_0x162461,'height':_0x94a5e4,'right':_0x5e1e95,'bottom':_0x12e74d,'rawTop':_0x525bf9,'rawBottom':_0x145b14};}function _0x12bea9(_0x9824f0,_0x4c695a,_0x1346b4){if(!_0x9824f0||!_0x4c695a)return!![];var _0x161039=_0x9824f0['left'],_0x6061b3=_0x9824f0['top'],_0x8e0725=_0x9824f0['right'],_0x4ea79c=_0x9824f0['bottom'],_0x5d0898=_0x4c695a['left'],_0x49737e=_0x4c695a['top'],_0x2a1c73=_0x4c695a['right'],_0x5a61cb=_0x4c695a['bottom'];if(_0x8e0725+_0x1346b4<=_0x5d0898||_0x2a1c73+_0x1346b4<=_0x161039)return![];if(_0x4ea79c-_0x1346b4>=_0x49737e||_0x5a61cb-_0x1346b4>=_0x6061b3)return![];return!![];}function _0x37cafd(_0x3f986b){var _0x2168b7=_0xa6e92(_0x3f986b,'geometricBounds');return _0x2168b7?[_0x2168b7['left'],_0x2168b7['top']]:[0x62e+0x4*-0x799+0x1836,0xe4a+-0xfcb+0x181];}function _0x1244a8(_0xe3f389,_0x3fff9c){try{var _0x2d28a3=_0xa6e92(_0xe3f389,'geometricBounds');if(!_0x2d28a3)return;_0xe3f389&&typeof _0xe3f389['translate']==='function'&&_0xe3f389['translate'](_0x3fff9c[-0x5eb*-0x1+0x1*0x1452+-0x8bf*0x3]-_0x2d28a3['left'],_0x3fff9c[-0x15a9+-0x17fe+0x18*0x1e7]-_0x2d28a3['top']);}catch(_0x246300){}}function _0x1506a9(_0x4649ca,_0x100320){if(!_0x4649ca||typeof _0x4649ca['rotate']!=='function')return;try{var _0x1c3e06=_0xa6e92(_0x4649ca,'geometricBounds');if(!_0x1c3e06)return;var _0x3d9f94=_0x1c3e06['left']+_0x1c3e06['width']/(0x458+0x5*0x1bd+-0xd07),_0xea911e=_0x1c3e06['top']-_0x1c3e06['height']/(0x13ae+-0x146d+0xc1);_0x4649ca['translate'](-_0x3d9f94,-_0xea911e),_0x4649ca['rotate'](_0x100320),_0x4649ca['translate'](_0x3d9f94,_0xea911e);}catch(_0x505843){}}function _0x181f52(_0x32b18f){for(var _0x45cf57=_0x32b18f['length']-(0x5a1*-0x3+-0x4*0x7ba+0x2fcc);_0x45cf57>0x1623+0x5bf*-0x4+0x7*0x1f;_0x45cf57--){var _0x171139=Math['floor'](Math['random']()*(_0x45cf57+(-0x49*0x2e+0x12*-0x20e+0x321b*0x1))),_0x27286a=_0x32b18f[_0x45cf57];_0x32b18f[_0x45cf57]=_0x32b18f[_0x171139],_0x32b18f[_0x171139]=_0x27286a;}}function _0x6969f8(_0x35e383,_0x4b06a9,_0x49c049,_0x2a2e3c){$['writeln']('[UI\x20Stepper]\x20Creating\x20stepper\x20for:\x20'+_0x4b06a9);var _0x27e89b=_0x35e383['add']('group');_0x27e89b['orientation']='row',_0x27e89b['alignChildren']=['left','center'],_0x27e89b['spacing']=0x1*0x1da5+0x2220+-0x3fbb;var _0x397364=_0x27e89b['add']('statictext',undefined,_0x4b06a9);_0x397364['size']=[0x1c*-0x15e+0x1320+0x13a0,-0xf56+0x98+0x769*0x2];var _0x7228ee=_0x27e89b['add']('group');_0x7228ee['orientation']='row',_0x7228ee['spacing']=0x16ad+-0x2612+0x1*0xf65;var _0x3e3cdb=_0x7228ee['add']('edittext',undefined,_0x49c049['toString']());_0x3e3cdb['characters']=_0x2a2e3c['characters']||0x558+-0x1076+0xb23;var _0x51cee9=_0x7228ee['add']('group');_0x51cee9['orientation']='column',_0x51cee9['spacing']=-0x3*0xb93+-0x2*-0x212+-0x61e*-0x5,_0x51cee9['margins']=[-0x1*0x20ef+-0x32+0x2123,0x3*-0x40c+0x10a7+-0x482*0x1,0xce*-0x1d+-0xa9a+-0x87c*-0x4,-0x21fb*0x1+0x2535+0x76*-0x7];var _0x4f87c1=_0x51cee9['add']('button',[-0x23e4*0x1+-0x1*0xda6+-0x11*-0x2ea,0x1*0x1931+0x1*0xfc1+-0x28f2,-0x3*-0xb63+-0x679+0x1b9f*-0x1,0x25a4+0x1a83*0x1+-0x401c],'▲');_0x4f87c1['justify']='center';var _0x11cfb8=_0x51cee9['add']('button',[-0x3cf+0x2*0x1073+-0x1d17,-0x1d59+0x4db*0x1+-0xf*-0x1a2,0x848+0xfa6*0x1+-0x17dd*0x1,-0x2073+0x22b7*-0x1+0x4335],'▼');return _0x11cfb8['justify']='center',_0x4f87c1['onClick']=function(){var _0x5c74c8=parseFloat(_0x3e3cdb['text']['replace'](',','.'));if(isNaN(_0x5c74c8))_0x5c74c8=_0x2a2e3c['min'];var _0x3edf1b=_0x5c74c8+_0x2a2e3c['step'];if(_0x3edf1b>_0x2a2e3c['max'])_0x3edf1b=_0x2a2e3c['max'];_0x3e3cdb['text']=_0x3edf1b['toFixed'](_0x2a2e3c['precision']),_0x3e3cdb['notify']('onChange');},_0x11cfb8['onClick']=function(){var _0x38d14c=parseFloat(_0x3e3cdb['text']['replace'](',','.'));if(isNaN(_0x38d14c))_0x38d14c=_0x2a2e3c['min'];var _0x330c86=_0x38d14c-_0x2a2e3c['step'];if(_0x330c86<_0x2a2e3c['min'])_0x330c86=_0x2a2e3c['min'];_0x3e3cdb['text']=_0x330c86['toFixed'](_0x2a2e3c['precision']),_0x3e3cdb['notify']('onChange');},{'group':_0x27e89b,'input':_0x3e3cdb};}function _0x3ae611(_0x1e36a5,_0x4a0e83){var _0x27b6ee=[],_0x4d6230=[];for(var _0x9a33b7=0x1*0x1d14+-0x39d+-0x1977;_0x9a33b7<_0x1e36a5['length'];_0x9a33b7++){var _0x55841e=_0x1e36a5[_0x9a33b7],_0x3da123=_0xa6e92(_0x55841e,'visibleBounds');if(_0x3da123&&_0x3da123['width']>0x1806+0x191*0x7+0xd*-0x2b1&&_0x3da123['height']>-0x1dc1+-0x1abb+0x387c){var _0x22d0ec=[_0x3da123['left'],_0x3da123['top']],_0x1e93a9=null;try{typeof _0x55841e['matrix']==='object'&&_0x55841e['matrix']!==null&&(_0x1e93a9=[_0x55841e['matrix']['mValueA'],_0x55841e['matrix']['mValueB'],_0x55841e['matrix']['mValueC'],_0x55841e['matrix']['mValueD'],_0x55841e['matrix']['mValueTX'],_0x55841e['matrix']['mValueTY']]['join'](','));}catch(_0x55e3b7){}_0x27b6ee['push']({'item':_0x55841e,'originalPosition':_0x22d0ec,'matrixString':_0x1e93a9}),_0x4d6230['push'](_0x55841e);}}var _0x13987d=_0xa6e92(_0x4a0e83,'visibleBounds'),_0x45c46a=[_0x13987d['left'],_0x13987d['top']],_0x133bfc=null;try{typeof _0x4a0e83['matrix']==='object'&&_0x4a0e83['matrix']!==null&&(_0x133bfc=[_0x4a0e83['matrix']['mValueA'],_0x4a0e83['matrix']['mValueB'],_0x4a0e83['matrix']['mValueC'],_0x4a0e83['matrix']['mValueD'],_0x4a0e83['matrix']['mValueTX'],_0x4a0e83['matrix']['mValueTY']]['join'](','));}catch(_0x579330){}return _0x27b6ee['push']({'item':_0x4a0e83,'originalPosition':_0x45c46a,'matrixString':_0x133bfc}),{'validStates':_0x27b6ee,'goodItemsToArrange':_0x4d6230};}function _0x2ed55f(_0x68fe89){if(!_0x68fe89)return;var _0x5acc3c=null;for(var _0x26fd98=0xbf5*-0x1+0x48*0x69+0xb*-0x199;_0x26fd98<_0x1afd87['length'];_0x26fd98++){if(_0x1afd87[_0x26fd98]['item']===_0x68fe89){_0x5acc3c=_0x1afd87[_0x26fd98];break;}}if(_0x5acc3c){try{if(typeof _0x5acc3c['item']['isValid']!=='undefined'&&!_0x5acc3c['item']['isValid'])return;}catch(_0x52c943){return;}try{if(_0x5acc3c['matrixString']){var _0x4c92b9=_0x5acc3c['matrixString']['split'](',');if(_0x4c92b9['length']===0x9fa*-0x1+0x1*0x283+0x9*0xd5){var _0x376fb7=app['getIdentityMatrix']();_0x376fb7['mValueA']=parseFloat(_0x4c92b9[0x355*-0x9+0x48*-0xf+-0xb67*-0x3]),_0x376fb7['mValueB']=parseFloat(_0x4c92b9[-0x1215+-0x1f8f*-0x1+-0xd79]),_0x376fb7['mValueC']=parseFloat(_0x4c92b9[0x3f0+0x2420+-0x6*0x6ad]),_0x376fb7['mValueD']=parseFloat(_0x4c92b9[0x10f+-0x41f+0x1*0x313]),_0x376fb7['mValueTX']=parseFloat(_0x4c92b9[0x5*0x71d+-0x5f3*0x4+-0x1*0xbc1]),_0x376fb7['mValueTY']=parseFloat(_0x4c92b9[0x1fe6+0x230a+-0x42eb]),_0x5acc3c['item']['matrix']=_0x376fb7;return;}}_0x1244a8(_0x5acc3c['item'],_0x5acc3c['originalPosition']);}catch(_0x4dd17){}}}function _0x4b0099(){for(var _0x3a4612=-0x7f1*-0x1+0xfbb*0x1+-0x17ac;_0x3a4612<_0x4dc004['length'];_0x3a4612++){_0x2ed55f(_0x4dc004[_0x3a4612]);}}function _0x42343c(){if(!_0x1afd87||_0x1afd87['length']===-0x17*-0x30+-0x1*-0x1ea5+-0x22f5)return;for(var _0x1ee8d5=-0x2*-0x8dd+-0x2269*-0x1+-0x3423;_0x1ee8d5<_0x1afd87['length'];_0x1ee8d5++){_0x1afd87[_0x1ee8d5]&&_0x1afd87[_0x1ee8d5]['item']&&_0x2ed55f(_0x1afd87[_0x1ee8d5]['item']);}app['redraw']();}function _0x23cc4e(_0x14951d){if(!_0x393441||!_0x4dc004||_0x4dc004['length']===0x217*-0xd+-0xe25*-0x1+0xd06)return;_0x4b0099(),app['redraw']();var _0x3dd541=_0xa6e92(_0x393441,'visibleBounds');if(!_0x3dd541){alert('Container\x20area\x20is\x20invalid.');return;}var _0x5dec6b=[];for(var _0x28d491=-0x5*-0x5f3+0x1733+0x12*-0x2f1;_0x28d491<_0x4dc004['length'];_0x28d491++){var _0x1bea6f=_0x4dc004[_0x28d491],_0x48d00b=_0xa6e92(_0x1bea6f,'visibleBounds');_0x48d00b&&_0x5dec6b['push']({'item':_0x1bea6f,'bounds':_0x48d00b,'area':_0x48d00b['width']*_0x48d00b['height']});}if(_0x5dec6b['length']===0x172f*0x1+-0x162*-0x3+-0x1*0x1b55){alert('No\x20valid\x20items\x20to\x20arrange\x20found.');return;}var _0x45b5b8=[];if(_0x3bf8d4==='knolling'){var _0x58d4b2={'padding':_0x55f756,'knollingFillDirection':_0x4b6e71,'isRandom':_0x14951d,'withoutOuterIndent':![],'allowRotation':![]};_0x45b5b8=_0x550d6d(_0x5dec6b,_0x393441,_0x58d4b2);}else{if(_0x3bf8d4==='grid'){var _0xcb92e4=[];for(var _0x946938=-0x1d15*-0x1+-0x7be+-0x25f*0x9;_0x946938<_0x5dec6b['length'];_0x946938++){_0xcb92e4['push'](_0x5dec6b[_0x946938]['item']);}var _0x58d4b2={'sizeLimitOff':_0x1ac416,'varyRotation':0x0,'varySize':0x1};_0x45b5b8=_0x83a41e(_0xcb92e4,_0x3dd541,_0x3c5dd4,_0x50e2d1,_0x14951d,_0x58d4b2);}}_0x515d86(_0x45b5b8,_0x3dd541),app['redraw']();}function _0x550d6d(_0x4c764d,_0xfb19e9,_0x288b84){var _0x980b92=[],_0x4cddfa;try{_0x4cddfa=_0xfb19e9['geometricBounds'];}catch(_0x1ac402){return _0x4c764d['map'](function(_0x3150d9){return _0x3150d9['item'];});}var _0x47483f=_0x288b84['padding'],_0x3b1823=_0x288b84['withoutOuterIndent']?-0x1149+0x2*0x97e+0xf*-0x1d:_0x47483f;_0x47bf9d=[[_0x4cddfa[-0x1b1e+-0x2386+0x1*0x3ea4]+_0x3b1823,_0x4cddfa[0x1a5c+-0x2599+0x2*0x59f]-_0x3b1823,_0x4cddfa[0x1*0xbf+-0x1*0x9f9+0x93c]-_0x3b1823,_0x4cddfa[0x2055+0x5*0xb9+-0x23ef*0x1]+_0x3b1823]],_0x4c764d['sort'](function(_0x59d23f,_0x3e30b2){return _0x3e30b2['area']-_0x59d23f['area'];});if(_0x288b84['isRandom']){var _0xcf2a40=_0x4c764d['slice'](-0x17f5+0x254+0x7*0x317,Math['min'](_0x4c764d['length'],-0x1*0x19f6+-0x1*-0x1e7+0x181e)),_0x1fe75e=_0x4c764d['slice'](Math['min'](_0x4c764d['length'],-0x1419+0x2*0x1069+-0xcaa*0x1));_0x181f52(_0xcf2a40),_0x4c764d=_0xcf2a40['concat'](_0x1fe75e);}for(var _0x1a84ee=0xae5*0x1+-0x2b*-0x16+-0xe97*0x1;_0x1a84ee<_0x4c764d['length'];_0x1a84ee++){var _0xa46c1d=_0x4c764d[_0x1a84ee];!_0x190426(_0xa46c1d,_0x288b84,_0x47483f)&&_0x980b92['push'](_0xa46c1d['item']);}return _0x980b92;}function _0x190426(_0xf28b48,_0x444784,_0x2a27a8){var _0x36a25d={'bssfScore':Infinity,'bafScore':Infinity,'rectIndex':-(0x98c*0x1+0xdfb+-0x1786*0x1),'x':0x0,'y':0x0},_0x43a827=_0xf28b48['bounds']['width'],_0x314868=_0xf28b48['bounds']['height'];_0x47bf9d['sort'](function(_0x454d13,_0x2952bf){if(_0x454d13[0xb7+0x253b+-0x25f1]>_0x2952bf[-0x1d09+0x2f8+0x1a12])return-(-0x1*0x8bd+0x1a7f+-0x11c1);if(_0x454d13[0x195c+0x18f2+0x324d*-0x1]<_0x2952bf[0x1fb+-0x87f*0x3+0x1783])return-0xc26*0x1+-0x1db8+0x29df;return _0x444784['knollingFillDirection']==='rightToLeft'?_0x2952bf[0x2669*-0x1+0x1371+0x2*0x97d]-_0x454d13[-0x24eb+0x2b*0x67+0x13a0]:_0x454d13[0x2*0xdd+-0x19bf+0x1*0x1805]-_0x2952bf[-0x2*0xdb+-0x1486+-0x4*-0x58f];});for(var _0xe2e474=-0x65e+-0x65a+-0x128*-0xb;_0xe2e474<_0x47bf9d['length'];_0xe2e474++){var _0x14befb=_0x47bf9d[_0xe2e474],_0x51044e=_0x14befb[0x680*-0x4+0xe*-0x1ec+-0x2*-0x1a75]-_0x14befb[-0x13bb+0x18e8+-0x52d],_0x43afc6=_0x14befb[0x3*-0x139+0xe0+0x2cc]-_0x14befb[0xa0+0x88b+-0x928];if(_0x43a827<=_0x51044e&&_0x314868<=_0x43afc6){var _0x41b4ec=_0x51044e-_0x43a827,_0x3e9b38=_0x43afc6-_0x314868,_0x3c71d1=_0x41b4ec*_0x3e9b38,_0x4997d4=Math['min'](_0x41b4ec,_0x3e9b38);(_0x4997d4<_0x36a25d['bssfScore']||_0x4997d4===_0x36a25d['bssfScore']&&_0x3c71d1<_0x36a25d['bafScore'])&&(_0x36a25d['bafScore']=_0x3c71d1,_0x36a25d['bssfScore']=_0x4997d4,_0x36a25d['rectIndex']=_0xe2e474,_0x36a25d['x']=_0x444784['knollingFillDirection']==='rightToLeft'?_0x14befb[0x1c2d*0x1+0x2b*-0x77+-0x82e]-_0x43a827:_0x14befb[0x1ba3*0x1+0x85f*0x4+-0x3d1f*0x1],_0x36a25d['y']=_0x14befb[0x23d2+-0x2b*-0xb3+-0x41e2]);}}if(_0x36a25d['rectIndex']!==-(-0x41*-0x4e+0xbd7+-0x1fa4)){_0x1244a8(_0xf28b48['item'],[_0x36a25d['x'],_0x36a25d['y']]);var _0x87e0fc=_0xa6e92(_0xf28b48['item'],'geometricBounds'),_0x1217e3=[_0x36a25d['x'],_0x36a25d['y'],_0x36a25d['x']+_0x87e0fc['width'],_0x36a25d['y']-_0x87e0fc['height']];return _0x1c6c27(_0x1217e3,_0x2a27a8),_0x1069a6(),!![];}return![];}function _0x1c6c27(_0x25596c,_0x27e8f3){var _0x32cf30=[],_0x238c8b=[_0x25596c[-0xb0+0x9da*0x2+-0x1304]-_0x27e8f3,_0x25596c[-0x2*-0x399+-0x4d5*0x6+0x15cd]+_0x27e8f3,_0x25596c[-0x11*-0xe5+-0x1*-0x30a+-0x123d]+_0x27e8f3,_0x25596c[0xb*-0x1e5+-0x4*-0x56b+0x6*-0x23]-_0x27e8f3];for(var _0x2e89f2=-0x13a*-0xf+0x81*0x2b+-0x2811;_0x2e89f2<_0x47bf9d['length'];_0x2e89f2++){var _0x2e8171=_0x47bf9d[_0x2e89f2],_0x27530e=!(_0x238c8b[-0x207a+-0xdf0+0x2e6a]>=_0x2e8171[0x65f+0x22b8+-0x2915]||_0x238c8b[-0xfa*-0x9+-0x162+0x2*-0x3b3]<=_0x2e8171[0x1*0xb4d+-0x653*0x2+0x17*0xf]||_0x238c8b[0x15e6+-0x932+-0x1*0xcb3]<=_0x2e8171[-0x34*0x41+0xcb*0x1e+-0xa93]||_0x238c8b[0xeb*-0x1f+0x1a3*-0x7+0x27ed]>=_0x2e8171[-0x2579+0xb*0x116+0x1988]);if(!_0x27530e){_0x32cf30['push'](_0x2e8171);continue;}if(_0x238c8b[0x2626+-0xbda+-0x1a4b]<_0x2e8171[0x26ab+-0x2*0x1051+-0x2*0x304])_0x32cf30['push']([_0x2e8171[-0x80e*-0x4+-0x4*0x533+-0xb6c],_0x2e8171[-0x1a3c+0x6db+0x1362],_0x2e8171[-0x13f4+-0xa1f*-0x2+0x12*-0x4],_0x238c8b[-0x251*0x7+0x1785+-0x15*0x59]]);if(_0x238c8b[-0xd*-0x2a5+0x2*0x1327+-0x2*0x2456]>_0x2e8171[0x1086+-0x1544+0x4c1])_0x32cf30['push']([_0x2e8171[-0xfcc*-0x1+-0x1724*-0x1+-0x1c*0x164],_0x238c8b[-0x3ab+-0x1b55*0x1+-0x1*-0x1f03],_0x2e8171[-0x5*-0x380+-0xfcf+-0x1af],_0x2e8171[-0x1*0x1bed+0x31*-0x3e+-0x2*-0x13e7]]);if(_0x238c8b[0xe*0x53+-0x220e+0x1d84]>_0x2e8171[-0x1db7*-0x1+-0x3a6*0x1+-0x1a11])_0x32cf30['push']([_0x2e8171[-0x10af*-0x2+0x1bbd+0x3d1b*-0x1],_0x2e8171[-0x2691+-0x16af*-0x1+0xfe3],_0x238c8b[-0x1a6c+-0x1*-0x1225+0xd*0xa3],_0x2e8171[0x6cf+-0x1*0x2485+0x1db9]]);if(_0x238c8b[-0x28c+-0x18c3+0x1b51]<_0x2e8171[-0x1*0xdf6+0x260c+0x605*-0x4])_0x32cf30['push']([_0x238c8b[0x6e+-0x112f+0x1*0x10c3],_0x2e8171[0x37*-0x65+-0x17f5+0x2da9],_0x2e8171[0x82*-0x1f+0x3d8+0xbe8],_0x2e8171[-0x11e6+0x1cec+-0xb03]]);}_0x47bf9d=_0x32cf30;}function _0x1069a6(){for(var _0x1d03e9=-0x1f80*-0x1+0xb2*0x7+-0x245e;_0x1d03e9<_0x47bf9d['length'];_0x1d03e9++){for(var _0xb46c72=_0x1d03e9+(0xb0*0x1+0x26f0+0x467*-0x9);_0xb46c72<_0x47bf9d['length'];_0xb46c72++){var _0x10c9cc=_0x47bf9d[_0x1d03e9],_0x181563=_0x47bf9d[_0xb46c72];if(_0x181563[0x496*0x5+0x969*0x3+-0x3329]>=_0x10c9cc[0x4f1+0x182*-0x1+0x3*-0x125]&&_0x181563[-0x3ec+-0x6*-0x1f3+-0x7c5*0x1]<=_0x10c9cc[-0xf97*0x2+0x4*0x851+-0x215]&&_0x181563[-0x1bb7+0x555+0x1664*0x1]<=_0x10c9cc[-0x1e8+-0x7e2+0x9cc]&&_0x181563[0x5d*0x41+0x1*0x18df+-0x3079]>=_0x10c9cc[-0x1d83+0x42d+-0x135*-0x15])_0x47bf9d['splice'](_0xb46c72,0x1785+0x38b*0x6+-0x2cc6),_0xb46c72--;else{if(_0x10c9cc[-0x23e3+-0x58c+0x296f]>=_0x181563[0x1495+0x23cb+-0x1c3*0x20]&&_0x10c9cc[0xcce*-0x3+-0x299+0x2904]<=_0x181563[0x14a1+-0x1f32+-0x2*-0x549]&&_0x10c9cc[0x1024+-0x218f+0x116d]<=_0x181563[-0x469*-0x2+-0xd1a+0xb7*0x6]&&_0x10c9cc[-0x1349*0x1+-0x20f1+0x343d*0x1]>=_0x181563[-0x8*-0xe2+-0x17*0xeb+0xe10]){_0x47bf9d['splice'](_0x1d03e9,0x2*-0x8a4+0x73+0x10d6),_0x1d03e9--;break;}}}}}function _0x83a41e(_0x14c8b4,_0x5bdaff,_0x2c1d96,_0x3c4f7d,_0x74dbda,_0x5bc728){var _0x58b29a=_0x5bc728['sizeLimitOff']||![];if(_0x14c8b4['length']===0x24e1+0x19ab*0x1+-0x3e8c||_0x2c1d96<=-0x1*-0xf5b+0xa*0x29b+0x1*-0x2969||_0x3c4f7d<=0xce*-0xd+-0x2101+-0x2b77*-0x1)return _0x14c8b4;var _0x457ae4=_0x14c8b4['slice']();if(_0x74dbda)_0x181f52(_0x457ae4);var _0x388ac0=_0x5bdaff['width']/_0x3c4f7d,_0x50c693=_0x5bdaff['height']/_0x2c1d96;if(_0x388ac0<=-0x19c*0x17+-0x1606+0x3b0a+0.1||_0x50c693<=0x1*0x1a77+-0x12*-0x55+-0x5*0x67d+0.1)return _0x457ae4;var _0x27dd2a=-0x5b*0x8+0x25*-0x1d+0x709*0x1,_0x4770da=[];for(var _0x554d78=-0x10b5+-0x1dc2+-0xf7d*-0x3;_0x554d78<_0x2c1d96;_0x554d78++){for(var _0x37ab47=0x1449+0x4*0x2d9+-0x33*0x9f;_0x37ab47<_0x3c4f7d;_0x37ab47++){if(_0x27dd2a>=_0x457ae4['length'])break;var _0x1f0df2=_0x457ae4[_0x27dd2a++],_0x3c2b9b=_0xa6e92(_0x1f0df2,'visibleBounds');if(!_0x58b29a){if(!_0x3c2b9b||_0x3c2b9b['width']>_0x388ac0||_0x3c2b9b['height']>_0x50c693){_0x4770da['push'](_0x1f0df2);continue;}}var _0x59a31b=_0x5bdaff['left']+_0x37ab47*_0x388ac0,_0x210f62=_0x5bdaff['top']-_0x554d78*_0x50c693,_0x150ad7=_0x59a31b+_0x388ac0/(-0xc43+-0x191+-0xdd6*-0x1)-_0x3c2b9b['width']/(0x284+-0xc28+0x26*0x41),_0x57e324=_0x210f62-_0x50c693/(-0x1f7b+-0xe5c*0x1+0x2dd9)+_0x3c2b9b['height']/(0x93+-0x1*0xbff+0xb6e);_0x1244a8(_0x1f0df2,[_0x150ad7,_0x57e324]);}if(_0x27dd2a>=_0x457ae4['length'])break;}for(var _0x1a8f48=_0x27dd2a;_0x1a8f48<_0x457ae4['length'];_0x1a8f48++){_0x4770da['push'](_0x457ae4[_0x1a8f48]);}return _0x4770da;}function _0x515d86(_0x4cebac,_0x53da9f){if(!_0x4cebac||_0x4cebac['length']===-0xe42*0x2+-0x1f02*0x1+0x3b86)return;_0x4cebac['sort'](function(_0x2bcb46,_0xe2fa20){var _0x4f5c32=_0xa6e92(_0x2bcb46,'visibleBounds'),_0x34fa09=_0xa6e92(_0xe2fa20,'visibleBounds');return(_0x34fa09?_0x34fa09['height']:-0x3ff+0x1bc2+-0x17c3)-(_0x4f5c32?_0x4f5c32['height']:-0x1*0xe6c+0x85f*0x1+0x60d);});var _0x2baa4b=_0x53da9f['left'],_0x136cd5=_0x53da9f['top']+_0x5566e1;for(var _0x1d2dc0=0xa31+0x1cc3+-0x26f4;_0x1d2dc0<_0x4cebac['length'];_0x1d2dc0++){var _0x2ec72b=_0x4cebac[_0x1d2dc0],_0x13a103=_0xa6e92(_0x2ec72b,'visibleBounds');if(!_0x13a103)continue;var _0x33431e=_0x136cd5+_0x13a103['height'];_0x1244a8(_0x2ec72b,[_0x2baa4b,_0x33431e]),_0x2baa4b+=_0x13a103['width']+_0x5566e1;}}function _0x1e45a5(){$['writeln']('[UI]\x20Creating\x20dialog\x20window\x20with\x20corrected\x20two-column\x20alignment\x20logic...'),_0x9f08e0=_0x5a8f26();var _0x15ddb9=new Window('dialog',_0x51c589);_0x15ddb9['orientation']='column',_0x15ddb9['alignChildren']=['fill','top'],_0x15ddb9['spacing']=0x22c*0xb+-0x2*0x4d3+0x6*-0x25e,_0x15ddb9['margins']=-0x10*0x39+0x821+0x3d*-0x13;var _0x360e75=_0x15ddb9['add']('panel',undefined,undefined);_0x360e75['orientation']='column',_0x360e75['alignChildren']='left',_0x360e75['margins']=[0x46a+0x6b7+-0xb17*0x1,-0x49f*0x1+-0x8b8+-0x19*-0x89,-0x1*0xb14+0x32*-0x8b+0x2*0x1322,0x2643+-0x2*-0x1253+-0x4adf];var _0x45d01c=_0x360e75['add']('radiobutton',undefined,'Grid\x20Layout');_0x45d01c['helpTip']='Arranges\x20objects\x20in\x20a\x20simple\x20grid.';var _0x34cff5=_0x360e75['add']('group');_0x34cff5['orientation']='column',_0x34cff5['alignChildren']='left',_0x34cff5['margins']=[0xf88+-0x24fb+-0x1582*-0x1,0xc2*0x16+0x1d5+-0x1*0x1281,0xfff+0x1c*-0xc2+-0x7*-0xbf,0x2557+-0x1f2+-0x2365],_0x34cff5['spacing']=0x19c2+0x6*-0xb4+-0x1582,$['writeln']('[UI\x20Grid]\x20>\x20Created\x20main\x20settings\x20container\x20with\x2015px\x20left\x20margin.');var _0x1b4bdc=_0x6969f8(_0x34cff5,'Rows:',_0x3c5dd4,{'step':0x1,'precision':0x0,'min':0x1,'max':0x3e8,'characters':0x4}),_0x4f5673=_0x6969f8(_0x34cff5,'Columns:',_0x50e2d1,{'step':0x1,'precision':0x0,'min':0x1,'max':0x3e8,'characters':0x4}),_0x576729=_0x34cff5['add']('group');_0x576729['orientation']='row';var _0x2074f=_0x576729['add']('checkbox',undefined,'Size\x20Limit\x20OFF');_0x2074f['value']=_0x1ac416,_0x2074f['helpTip']='Allows\x20items\x20larger\x20than\x20a\x20cell\x20to\x20be\x20placed.',$['writeln']('[UI\x20Grid]\x20>\x20Placed\x20\x27Size\x20Limit\x20OFF\x27\x20checkbox\x20in\x20its\x20own\x20aligned\x20row\x20group.');var _0x2cd4f6=_0x15ddb9['add']('panel',undefined,undefined);_0x2cd4f6['orientation']='column',_0x2cd4f6['alignChildren']='left',_0x2cd4f6['margins']=[0x743+-0x122b+0xaf2,0x91*-0x17+0x74b+-0x2e3*-0x2,0x1*0xb4d+-0x23d2+-0x188f*-0x1,0x30a*0x2+-0x4*0x4ea+0x6cf*0x2];var _0x265ddb=_0x2cd4f6['add']('radiobutton',undefined,'Knolling\x20Layout');_0x265ddb['helpTip']='Advanced\x20packer\x20for\x20tight,\x20organized\x20layouts.';var _0x56b7ea=_0x2cd4f6['add']('group');_0x56b7ea['orientation']='column',_0x56b7ea['alignChildren']='left',_0x56b7ea['margins']=[-0xf94+-0x20b+0x3e*0x49,0xb85+0x1417+0x1c*-0x121,0xa81*0x2+0x95b+0xa1f*-0x3,0x279+0x62d+-0x8a6],_0x56b7ea['spacing']=-0x2699*-0x1+-0x2*-0xc97+-0x3fbf*0x1,_0x56b7ea['add']('statictext',undefined,'Fill\x20Direction:');var _0x271f2a=_0x56b7ea['add']('group');_0x271f2a['orientation']='row';var _0x3679a0=_0x271f2a['add']('radiobutton',undefined,'Left-to-Right'),_0xe5eb23=_0x271f2a['add']('radiobutton',undefined,'Right-to-Left'),_0xc57878=_0x6969f8(_0x56b7ea,'Min.\x20Spacing\x20('+_0x9f08e0['name']+'):',_0x49b5e4(_0x55f756,_0x9f08e0)['toFixed'](-0x729+-0xadb*0x3+0x27bc),{'step':0x1,'precision':0x2,'min':0x0,'max':0x3e8,'characters':0x7});function _0x3f3733(){$['writeln']('[UI]\x20Updating\x20method\x20selection...'),_0x34cff5['enabled']=_0x45d01c['value'],_0x56b7ea['enabled']=_0x265ddb['value'];if(_0x45d01c['value'])_0x3bf8d4='grid';else{if(_0x265ddb['value'])_0x3bf8d4='knolling';}$['writeln']('[UI]\x20>\x20Active\x20method\x20is\x20now:\x20'+_0x3bf8d4);}_0x45d01c['onClick']=function(){this['value']&&(_0x265ddb['value']=![]),_0x3f3733();},_0x265ddb['onClick']=function(){this['value']&&(_0x45d01c['value']=![]),_0x3f3733();},_0x265ddb['value']=!![],_0x3f3733();if(_0x4b6e71==='rightToLeft')_0xe5eb23['value']=!![];else _0x3679a0['value']=!![];var _0x38fe23=_0x15ddb9['add']('group');_0x38fe23['orientation']='column',_0x38fe23['alignment']='center',_0x38fe23['spacing']=-0x45*-0x73+0x2ba+-0x1*0x21af,_0x38fe23['margins']=[0x19e1+0x1bbb+0x5e*-0x92,0x2*0x10e3+-0xb*-0x53+-0x365*0xb,0x1e2d+-0x23b9+0x4*0x163,-0x4*-0x1b+0xf87+0xff3*-0x1];var _0x580292=[0x22a3+-0xec+-0x213f*0x1,0x6db*-0x5+0x52a+0x1d36],_0x444dfb=_0x38fe23['add']('group');_0x444dfb['spacing']=-0xf3*-0x22+0x9d*-0xf+-0x1709;var _0x153178=_0x444dfb['add']('button',undefined,'Arrange');_0x153178['size']=_0x580292;var _0x4133d6=_0x444dfb['add']('button',undefined,'Randomize');_0x4133d6['size']=_0x580292;var _0x4f0a31=_0x38fe23['add']('group');_0x4f0a31['spacing']=0x1d7e+-0x9*0x169+-0x10c3;var _0x3382e5=_0x4f0a31['add']('button',undefined,'OK',{'name':'ok'});_0x3382e5['size']=_0x580292;var _0x441e8f=_0x4f0a31['add']('button',undefined,'Cancel',{'name':'cancel'});_0x441e8f['size']=_0x580292;var _0x5a95e6=_0x15ddb9['add']('group');_0x5a95e6['orientation']='column',_0x5a95e6['alignment']='center',_0x5a95e6['spacing']=-0x1*0xe2f+0x11*0x87+0x53a*0x1,_0x5a95e6['margins']=[-0x267d+0x2297+0x3e6,0x2017+0x1*-0xf27+0x10*-0x10f,-0xd*0x2f5+0x86c+0x1d*0x109,0xb65+0x18c1+-0x2426*0x1],_0x5a95e6['add']('statictext',undefined,'©\x202025\x20Andrew\x20R.\x20Tools'),_0x5a95e6['add']('statictext',undefined,'Get\x20the\x20full\x20version\x20on:'),_0x5a95e6['add']('statictext',undefined,'www.andrewr.online');function _0x138bef(){$['writeln']('[UI]\x20Reading\x20settings\x20from\x20dialog...');var _0x3e4469=parseInt(_0x1b4bdc['input']['text']);_0x3c5dd4=isNaN(_0x3e4469)||_0x3e4469<-0x1819+-0x4b1*-0x7+-0x8bd?0x2*-0x4f0+-0x3*-0x311+0xb2:_0x3e4469;var _0x15edb1=parseInt(_0x4f5673['input']['text']);_0x50e2d1=isNaN(_0x15edb1)||_0x15edb1<-0x12d7+-0x10eb+0x23c3?-0x3fb+-0x1*0x4e3+0x8e3:_0x15edb1,_0x1ac416=_0x2074f['value'];var _0x2bff36=parseFloat(_0xc57878['input']['text']['replace'](',','.'));_0x55f756=isNaN(_0x2bff36)||_0x2bff36<0x2455*-0x1+0x3b9+-0x2*-0x104e?_0x371ca0:_0x3d44a9(_0x2bff36,_0x9f08e0);if(_0xe5eb23['value'])_0x4b6e71='rightToLeft';else _0x4b6e71='leftToRight';$['writeln']('[UI]\x20>\x20Settings\x20Read:\x20gridRows='+_0x3c5dd4+',\x20gridCols='+_0x50e2d1+',\x20padding='+_0x55f756+'pt,\x20sizeLimitOff='+_0x1ac416);}_0x4133d6['onClick']=function(){_0x138bef(),_0x23cc4e(!![]);},_0x153178['onClick']=function(){_0x138bef(),_0x23cc4e(![]);};var _0x3ffdd4={'value':0x0};return _0x3382e5['onClick']=function(){_0x3ffdd4['value']=0x36d*0x1+-0x2*0xeb9+0x1a06*0x1,_0x15ddb9['close'](0x567+0x299+0x7ff*-0x1);},_0x441e8f['onClick']=function(){_0x3ffdd4['value']=-0x1a60+0x14c5+0x59d,_0x42343c(),_0x15ddb9['close'](-0x8*0x110+0x16cf+0x197*-0x9);},_0x15ddb9['onClose']=function(){_0x3ffdd4['value']===-0x13*-0x209+0x1f2e+0x45d9*-0x1&&_0x42343c();},_0x15ddb9;}function _0xa8da22(){if(app['documents']['length']===-0x22e9+0x6c0+0x1c29){alert('Please\x20open\x20a\x20document\x20first.');return;}_0x4f9ce3=app['activeDocument'],_0x9f08e0=_0x5a8f26();if(_0x4f9ce3['selection']['length']<-0x156d+0x1d9*-0x10+0x32ff){alert('Please\x20select\x20at\x20least\x20two\x20objects:\x0a-\x20One\x20or\x20more\x20items\x20to\x20arrange.\x0a-\x20A\x20container\x20object\x20(the\x20script\x20will\x20auto-detect\x20the\x20largest\x20shape).');return;}var _0x4a24d4=_0x4f9ce3['selection'];$['writeln']('[Core]\x20Starting\x20container\x20identification\x20by\x20largest\x20area...');var _0x394719=-(-0x2d2*0x6+-0x2076+-0x1*-0x3163),_0x2f5b5c=-(-0x17d*-0x11+0x63b+0x1*-0x1f87);for(var _0x27d63b=0x1f*-0x15+0x136e+-0x10e3;_0x27d63b<_0x4a24d4['length'];_0x27d63b++){var _0x4e200f=_0xa6e92(_0x4a24d4[_0x27d63b],'visibleBounds');if(_0x4e200f){var _0x15939d=_0x4e200f['width']*_0x4e200f['height'];$['writeln']('[Core]\x20>\x20Checking\x20item\x20'+_0x27d63b+',\x20Area:\x20'+_0x15939d['toFixed'](-0x3b*0x17+-0x16a9*-0x1+-0x115a)),_0x15939d>_0x394719&&(_0x394719=_0x15939d,_0x2f5b5c=_0x27d63b,$['writeln']('[Core]\x20>\x20>\x20New\x20largest\x20item\x20found\x20at\x20index\x20'+_0x27d63b));}else $['writeln']('[Core]\x20>\x20Skipping\x20item\x20'+_0x27d63b+'\x20(invalid\x20bounds).');}if(_0x2f5b5c===-(-0x1*-0x115+0x23*0x107+-0x2509)){alert('Could\x20not\x20determine\x20a\x20valid\x20container\x20from\x20the\x20selection.\x20Ensure\x20objects\x20have\x20a\x20measurable\x20area.');return;}_0x393441=_0x4a24d4[_0x2f5b5c],$['writeln']('[Core]\x20>\x20Container\x20identified:\x20Item\x20at\x20index\x20'+_0x2f5b5c);var _0x4d6a9e=[];for(var _0x27d63b=0x18a4+-0x5b*-0x3d+-0x2e53;_0x27d63b<_0x4a24d4['length'];_0x27d63b++){_0x27d63b!==_0x2f5b5c&&_0x4d6a9e['push'](_0x4a24d4[_0x27d63b]);}$['writeln']('[Core]\x20>\x20'+_0x4d6a9e['length']+'\x20items\x20identified\x20for\x20arrangement.');try{_0x393441['zOrder'](ZOrderMethod['SENDTOBACK']),$['writeln']('[Core]\x20>\x20Container\x20successfully\x20sent\x20to\x20back.');}catch(_0x35adf1){$['writeln']('[Core]\x20>\x20WARNING:\x20Could\x20not\x20send\x20container\x20to\x20back.\x20It\x20might\x20be\x20on\x20a\x20locked\x20layer.\x20Error:\x20'+_0x35adf1['message']);}var _0x2aeccc=_0xa6e92(_0x393441,'geometricBounds');if(!_0x2aeccc||_0x2aeccc['width']<=-0x1f67+0x137d+-0x3d*-0x32||_0x2aeccc['height']<=0x7*0xa9+0x14*-0x10f+0x108d){alert('The\x20container\x20object\x20is\x20not\x20valid.\x20It\x20must\x20have\x20a\x20defined\x20area.');return;}var _0x28557c=_0x3ae611(_0x4d6a9e,_0x393441);_0x1afd87=_0x28557c['validStates'],_0x4dc004=_0x28557c['goodItemsToArrange'];if(_0x4dc004['length']===0x1*0x1879+-0x32d+-0x154c){alert('No\x20valid\x20items\x20were\x20found\x20to\x20arrange\x20(excluding\x20the\x20container).');return;}var _0x52ce82=_0x1e45a5();_0x52ce82['show']();}try{_0xa8da22();}catch(_0x15bec6){alert('A\x20critical\x20script\x20error\x20occurred:\x20'+_0x15bec6['message']+'\x0aLine:\x20'+_0x15bec6['line']);}}());